"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./src/components/chat/ChatWindow.tsx":
/*!********************************************!*\
  !*** ./src/components/chat/ChatWindow.tsx ***!
  \********************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChatWindow: function() { return /* binding */ ChatWindow; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_Ban_Circle_MoreVertical_Phone_Users_Video_lucide_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,Ban,Circle,MoreVertical,Phone,Users,Video!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/arrow-left.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_Ban_Circle_MoreVertical_Phone_Users_Video_lucide_react__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,Ban,Circle,MoreVertical,Phone,Users,Video!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/users.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_Ban_Circle_MoreVertical_Phone_Users_Video_lucide_react__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,Ban,Circle,MoreVertical,Phone,Users,Video!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/circle.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_Ban_Circle_MoreVertical_Phone_Users_Video_lucide_react__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,Ban,Circle,MoreVertical,Phone,Users,Video!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/video.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_Ban_Circle_MoreVertical_Phone_Users_Video_lucide_react__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,Ban,Circle,MoreVertical,Phone,Users,Video!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/phone.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_Ban_Circle_MoreVertical_Phone_Users_Video_lucide_react__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,Ban,Circle,MoreVertical,Phone,Users,Video!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/more-vertical.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_Ban_Circle_MoreVertical_Phone_Users_Video_lucide_react__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,Ban,Circle,MoreVertical,Phone,Users,Video!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/ban.js\");\n/* harmony import */ var _components_ui_avatar__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/ui/avatar */ \"(app-pages-browser)/./src/components/ui/avatar.tsx\");\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/ui/button */ \"(app-pages-browser)/./src/components/ui/button.tsx\");\n/* harmony import */ var _components_ui_scroll_area__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/ui/scroll-area */ \"(app-pages-browser)/./src/components/ui/scroll-area.tsx\");\n/* harmony import */ var _components_ui_dropdown_menu__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/ui/dropdown-menu */ \"(app-pages-browser)/./src/components/ui/dropdown-menu.tsx\");\n/* harmony import */ var _MessageBubble__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./MessageBubble */ \"(app-pages-browser)/./src/components/chat/MessageBubble.tsx\");\n/* harmony import */ var _MessageInput__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./MessageInput */ \"(app-pages-browser)/./src/components/chat/MessageInput.tsx\");\n/* harmony import */ var _TypingIndicator__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./TypingIndicator */ \"(app-pages-browser)/./src/components/chat/TypingIndicator.tsx\");\n/* harmony import */ var _ForwardMessageModal__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./ForwardMessageModal */ \"(app-pages-browser)/./src/components/chat/ForwardMessageModal.tsx\");\n/* harmony import */ var _store_chatStore__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/store/chatStore */ \"(app-pages-browser)/./src/store/chatStore.ts\");\n/* harmony import */ var _store_authStore__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @/store/authStore */ \"(app-pages-browser)/./src/store/authStore.ts\");\n/* harmony import */ var _store_callStore__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @/store/callStore */ \"(app-pages-browser)/./src/store/callStore.ts\");\n/* harmony import */ var _lib_socket__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @/lib/socket */ \"(app-pages-browser)/./src/lib/socket.ts\");\n/* harmony import */ var _lib_api__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @/lib/api */ \"(app-pages-browser)/./src/lib/api.ts\");\n/* harmony import */ var _hooks_use_toast__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @/hooks/use-toast */ \"(app-pages-browser)/./src/hooks/use-toast.ts\");\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @/lib/utils */ \"(app-pages-browser)/./src/lib/utils.ts\");\n/* __next_internal_client_entry_do_not_use__ ChatWindow auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction ChatWindow(param) {\n    let { onBack } = param;\n    _s();\n    const { user } = (0,_store_authStore__WEBPACK_IMPORTED_MODULE_11__.useAuthStore)();\n    const { activeConversation, setActiveConversation, messages, fetchMessages, isLoadingMessages, typingUsers } = (0,_store_chatStore__WEBPACK_IMPORTED_MODULE_10__.useChatStore)();\n    const { startCall, setActiveCall } = (0,_store_callStore__WEBPACK_IMPORTED_MODULE_12__.useCallStore)();\n    const { toast } = (0,_hooks_use_toast__WEBPACK_IMPORTED_MODULE_15__.useToast)();\n    const scrollRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [showInfo, setShowInfo] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [forwardMessage, setForwardMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const conversationMessages = messages.get((activeConversation === null || activeConversation === void 0 ? void 0 : activeConversation._id) || \"\") || [];\n    const typing = typingUsers.get((activeConversation === null || activeConversation === void 0 ? void 0 : activeConversation._id) || \"\") || [];\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (activeConversation) {\n            fetchMessages(activeConversation._id);\n            _lib_socket__WEBPACK_IMPORTED_MODULE_13__.socketService.joinConversation(activeConversation._id);\n            _lib_socket__WEBPACK_IMPORTED_MODULE_13__.socketService.markMessagesRead(activeConversation._id);\n        }\n        return ()=>{\n            if (activeConversation) {\n                _lib_socket__WEBPACK_IMPORTED_MODULE_13__.socketService.leaveConversation(activeConversation._id);\n            }\n        };\n    }, [\n        activeConversation === null || activeConversation === void 0 ? void 0 : activeConversation._id\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Scroll to bottom when new messages arrive\n        if (scrollRef.current) {\n            scrollRef.current.scrollTop = scrollRef.current.scrollHeight;\n        }\n    }, [\n        conversationMessages.length\n    ]);\n    const handleInitiateCall = async (type)=>{\n        if (!activeConversation) return;\n        const otherUser = (0,_lib_utils__WEBPACK_IMPORTED_MODULE_16__.getOtherUser)(activeConversation, (user === null || user === void 0 ? void 0 : user._id) || \"\");\n        if (!otherUser) return;\n        // Check if WebRTC is available (requires HTTPS or localhost)\n        if (true) {\n            const isSecureContext = window.isSecureContext;\n            const isLocalhost = window.location.hostname === \"localhost\" || window.location.hostname === \"127.0.0.1\";\n            if (!isSecureContext && !isLocalhost) {\n                toast({\n                    title: \"Secure Connection Required\",\n                    description: \"Video/audio calls require HTTPS. Please access the app via localhost:3004\",\n                    variant: \"destructive\"\n                });\n                return;\n            }\n            if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {\n                toast({\n                    title: \"Not Supported\",\n                    description: \"Your browser does not support video/audio calls. Please use Chrome, Firefox, or Edge.\",\n                    variant: \"destructive\"\n                });\n                return;\n            }\n        }\n        try {\n            // First, create the call via API\n            const response = await _lib_api__WEBPACK_IMPORTED_MODULE_14__.callsApi.initiateCall(otherUser._id, type, activeConversation.type === \"group\", activeConversation._id);\n            if (response.success && response.data) {\n                console.log(\"\\uD83D\\uDCDE Call initiated:\", response.data._id);\n                // Set active call data\n                setActiveCall(response.data);\n                // Start the call UI (this will trigger WebRTC initialization)\n                startCall(type);\n            } else {\n                toast({\n                    title: \"Call Failed\",\n                    description: \"Could not initiate the call\",\n                    variant: \"destructive\"\n                });\n            }\n        } catch (error) {\n            console.error(\"Error initiating call:\", error);\n            toast({\n                title: \"Call Failed\",\n                description: \"An error occurred while starting the call\",\n                variant: \"destructive\"\n            });\n        }\n    };\n    const handleBlockUser = async ()=>{\n        if (!activeConversation || activeConversation.type === \"group\") return;\n        const otherUser = (0,_lib_utils__WEBPACK_IMPORTED_MODULE_16__.getOtherUser)(activeConversation, (user === null || user === void 0 ? void 0 : user._id) || \"\");\n        if (!otherUser) return;\n        try {\n            const response = await _lib_api__WEBPACK_IMPORTED_MODULE_14__.usersApi.blockUser(otherUser._id);\n            if (response.success) {\n                toast({\n                    title: \"User Blocked\",\n                    description: \"\".concat(otherUser.name, \" has been blocked successfully.\")\n                });\n            }\n        } catch (error) {\n            var _error_response_data, _error_response;\n            toast({\n                title: \"Error\",\n                description: ((_error_response = error.response) === null || _error_response === void 0 ? void 0 : (_error_response_data = _error_response.data) === null || _error_response_data === void 0 ? void 0 : _error_response_data.message) || \"Failed to block user\",\n                variant: \"destructive\"\n            });\n        }\n    };\n    const handleForwardMessage = (message)=>{\n        setForwardMessage(message);\n    };\n    if (!activeConversation) return null;\n    const name = (0,_lib_utils__WEBPACK_IMPORTED_MODULE_16__.getConversationName)(activeConversation, (user === null || user === void 0 ? void 0 : user._id) || \"\");\n    const avatar = (0,_lib_utils__WEBPACK_IMPORTED_MODULE_16__.getConversationAvatar)(activeConversation, (user === null || user === void 0 ? void 0 : user._id) || \"\");\n    const online = (0,_lib_utils__WEBPACK_IMPORTED_MODULE_16__.isUserOnline)(activeConversation, (user === null || user === void 0 ? void 0 : user._id) || \"\");\n    const otherUser = (0,_lib_utils__WEBPACK_IMPORTED_MODULE_16__.getOtherUser)(activeConversation, (user === null || user === void 0 ? void 0 : user._id) || \"\");\n    const getStatusText = ()=>{\n        if (typing.length > 0) {\n            return typing.length === 1 ? \"typing...\" : \"\".concat(typing.length, \" typing...\");\n        }\n        if (activeConversation.type === \"group\") {\n            return \"\".concat(activeConversation.participants.length, \" participants\");\n        }\n        if (online) return \"online\";\n        if (otherUser === null || otherUser === void 0 ? void 0 : otherUser.lastSeen) {\n            return \"last seen \".concat((0,_lib_utils__WEBPACK_IMPORTED_MODULE_16__.formatLastSeen)(otherUser.lastSeen));\n        }\n        return \"\";\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex flex-col h-screen w-full\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"h-16 px-4 flex items-center justify-between border-b border-border bg-surface\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-3\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                variant: \"ghost\",\n                                size: \"icon\",\n                                className: \"md:hidden\",\n                                onClick: ()=>{\n                                    setActiveConversation(null);\n                                    onBack();\n                                },\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_Ban_Circle_MoreVertical_Phone_Users_Video_lucide_react__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                                    className: \"h-5 w-5\"\n                                }, void 0, false, {\n                                    fileName: \"R:\\\\new projects\\\\video-call\\\\whats-app\\\\frontend\\\\src\\\\components\\\\chat\\\\ChatWindow.tsx\",\n                                    lineNumber: 215,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"R:\\\\new projects\\\\video-call\\\\whats-app\\\\frontend\\\\src\\\\components\\\\chat\\\\ChatWindow.tsx\",\n                                lineNumber: 206,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"relative cursor-pointer\",\n                                onClick: ()=>setShowInfo(true),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_avatar__WEBPACK_IMPORTED_MODULE_2__.Avatar, {\n                                        className: \"h-10 w-10\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_avatar__WEBPACK_IMPORTED_MODULE_2__.AvatarImage, {\n                                                src: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_16__.getMediaUrl)(avatar)\n                                            }, void 0, false, {\n                                                fileName: \"R:\\\\new projects\\\\video-call\\\\whats-app\\\\frontend\\\\src\\\\components\\\\chat\\\\ChatWindow.tsx\",\n                                                lineNumber: 220,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_avatar__WEBPACK_IMPORTED_MODULE_2__.AvatarFallback, {\n                                                className: \"bg-primary/20 text-primary\",\n                                                children: activeConversation.type === \"group\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_Ban_Circle_MoreVertical_Phone_Users_Video_lucide_react__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                                                    className: \"h-5 w-5\"\n                                                }, void 0, false, {\n                                                    fileName: \"R:\\\\new projects\\\\video-call\\\\whats-app\\\\frontend\\\\src\\\\components\\\\chat\\\\ChatWindow.tsx\",\n                                                    lineNumber: 223,\n                                                    columnNumber: 19\n                                                }, this) : (0,_lib_utils__WEBPACK_IMPORTED_MODULE_16__.getInitials)(name)\n                                            }, void 0, false, {\n                                                fileName: \"R:\\\\new projects\\\\video-call\\\\whats-app\\\\frontend\\\\src\\\\components\\\\chat\\\\ChatWindow.tsx\",\n                                                lineNumber: 221,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"R:\\\\new projects\\\\video-call\\\\whats-app\\\\frontend\\\\src\\\\components\\\\chat\\\\ChatWindow.tsx\",\n                                        lineNumber: 219,\n                                        columnNumber: 13\n                                    }, this),\n                                    online && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_Ban_Circle_MoreVertical_Phone_Users_Video_lucide_react__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n                                        className: \"absolute bottom-0 right-0 h-3 w-3 fill-success text-success\"\n                                    }, void 0, false, {\n                                        fileName: \"R:\\\\new projects\\\\video-call\\\\whats-app\\\\frontend\\\\src\\\\components\\\\chat\\\\ChatWindow.tsx\",\n                                        lineNumber: 230,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"R:\\\\new projects\\\\video-call\\\\whats-app\\\\frontend\\\\src\\\\components\\\\chat\\\\ChatWindow.tsx\",\n                                lineNumber: 218,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"cursor-pointer\",\n                                onClick: ()=>setShowInfo(true),\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                        className: \"font-semibold text-text-primary\",\n                                        children: name\n                                    }, void 0, false, {\n                                        fileName: \"R:\\\\new projects\\\\video-call\\\\whats-app\\\\frontend\\\\src\\\\components\\\\chat\\\\ChatWindow.tsx\",\n                                        lineNumber: 235,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-xs \".concat(typing.length > 0 ? \"text-primary\" : \"text-text-secondary\"),\n                                        children: getStatusText()\n                                    }, void 0, false, {\n                                        fileName: \"R:\\\\new projects\\\\video-call\\\\whats-app\\\\frontend\\\\src\\\\components\\\\chat\\\\ChatWindow.tsx\",\n                                        lineNumber: 236,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"R:\\\\new projects\\\\video-call\\\\whats-app\\\\frontend\\\\src\\\\components\\\\chat\\\\ChatWindow.tsx\",\n                                lineNumber: 234,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"R:\\\\new projects\\\\video-call\\\\whats-app\\\\frontend\\\\src\\\\components\\\\chat\\\\ChatWindow.tsx\",\n                        lineNumber: 205,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-1\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                variant: \"ghost\",\n                                size: \"icon\",\n                                onClick: ()=>handleInitiateCall(\"video\"),\n                                className: \"text-text-secondary hover:text-text-primary\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_Ban_Circle_MoreVertical_Phone_Users_Video_lucide_react__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n                                    className: \"h-5 w-5\"\n                                }, void 0, false, {\n                                    fileName: \"R:\\\\new projects\\\\video-call\\\\whats-app\\\\frontend\\\\src\\\\components\\\\chat\\\\ChatWindow.tsx\",\n                                    lineNumber: 249,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"R:\\\\new projects\\\\video-call\\\\whats-app\\\\frontend\\\\src\\\\components\\\\chat\\\\ChatWindow.tsx\",\n                                lineNumber: 243,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                variant: \"ghost\",\n                                size: \"icon\",\n                                onClick: ()=>handleInitiateCall(\"audio\"),\n                                className: \"text-text-secondary hover:text-text-primary\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_Ban_Circle_MoreVertical_Phone_Users_Video_lucide_react__WEBPACK_IMPORTED_MODULE_21__[\"default\"], {\n                                    className: \"h-5 w-5\"\n                                }, void 0, false, {\n                                    fileName: \"R:\\\\new projects\\\\video-call\\\\whats-app\\\\frontend\\\\src\\\\components\\\\chat\\\\ChatWindow.tsx\",\n                                    lineNumber: 257,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"R:\\\\new projects\\\\video-call\\\\whats-app\\\\frontend\\\\src\\\\components\\\\chat\\\\ChatWindow.tsx\",\n                                lineNumber: 251,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dropdown_menu__WEBPACK_IMPORTED_MODULE_5__.DropdownMenu, {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dropdown_menu__WEBPACK_IMPORTED_MODULE_5__.DropdownMenuTrigger, {\n                                        asChild: true,\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                            variant: \"ghost\",\n                                            size: \"icon\",\n                                            className: \"text-text-secondary hover:text-text-primary\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_Ban_Circle_MoreVertical_Phone_Users_Video_lucide_react__WEBPACK_IMPORTED_MODULE_22__[\"default\"], {\n                                                className: \"h-5 w-5\"\n                                            }, void 0, false, {\n                                                fileName: \"R:\\\\new projects\\\\video-call\\\\whats-app\\\\frontend\\\\src\\\\components\\\\chat\\\\ChatWindow.tsx\",\n                                                lineNumber: 266,\n                                                columnNumber: 17\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"R:\\\\new projects\\\\video-call\\\\whats-app\\\\frontend\\\\src\\\\components\\\\chat\\\\ChatWindow.tsx\",\n                                            lineNumber: 261,\n                                            columnNumber: 15\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"R:\\\\new projects\\\\video-call\\\\whats-app\\\\frontend\\\\src\\\\components\\\\chat\\\\ChatWindow.tsx\",\n                                        lineNumber: 260,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dropdown_menu__WEBPACK_IMPORTED_MODULE_5__.DropdownMenuContent, {\n                                        align: \"end\",\n                                        className: \"w-48\",\n                                        children: activeConversation.type !== \"group\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_dropdown_menu__WEBPACK_IMPORTED_MODULE_5__.DropdownMenuItem, {\n                                            onClick: handleBlockUser,\n                                            className: \"text-danger focus:text-danger cursor-pointer\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_Ban_Circle_MoreVertical_Phone_Users_Video_lucide_react__WEBPACK_IMPORTED_MODULE_23__[\"default\"], {\n                                                    className: \"h-4 w-4 mr-2\"\n                                                }, void 0, false, {\n                                                    fileName: \"R:\\\\new projects\\\\video-call\\\\whats-app\\\\frontend\\\\src\\\\components\\\\chat\\\\ChatWindow.tsx\",\n                                                    lineNumber: 275,\n                                                    columnNumber: 19\n                                                }, this),\n                                                \"Block User\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"R:\\\\new projects\\\\video-call\\\\whats-app\\\\frontend\\\\src\\\\components\\\\chat\\\\ChatWindow.tsx\",\n                                            lineNumber: 271,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"R:\\\\new projects\\\\video-call\\\\whats-app\\\\frontend\\\\src\\\\components\\\\chat\\\\ChatWindow.tsx\",\n                                        lineNumber: 269,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"R:\\\\new projects\\\\video-call\\\\whats-app\\\\frontend\\\\src\\\\components\\\\chat\\\\ChatWindow.tsx\",\n                                lineNumber: 259,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"R:\\\\new projects\\\\video-call\\\\whats-app\\\\frontend\\\\src\\\\components\\\\chat\\\\ChatWindow.tsx\",\n                        lineNumber: 242,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"R:\\\\new projects\\\\video-call\\\\whats-app\\\\frontend\\\\src\\\\components\\\\chat\\\\ChatWindow.tsx\",\n                lineNumber: 204,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_scroll_area__WEBPACK_IMPORTED_MODULE_4__.ScrollArea, {\n                ref: scrollRef,\n                className: \"flex-1 bg-background-chat chat-bg-pattern\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"p-4 space-y-1 min-h-full flex flex-col justify-end\",\n                    children: [\n                        isLoadingMessages && conversationMessages.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center justify-center py-8\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-text-secondary\",\n                                children: \"Loading messages...\"\n                            }, void 0, false, {\n                                fileName: \"R:\\\\new projects\\\\video-call\\\\whats-app\\\\frontend\\\\src\\\\components\\\\chat\\\\ChatWindow.tsx\",\n                                lineNumber: 292,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"R:\\\\new projects\\\\video-call\\\\whats-app\\\\frontend\\\\src\\\\components\\\\chat\\\\ChatWindow.tsx\",\n                            lineNumber: 291,\n                            columnNumber: 13\n                        }, this) : conversationMessages.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center justify-center py-8\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"text-center\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-text-secondary\",\n                                        children: \"No messages yet\"\n                                    }, void 0, false, {\n                                        fileName: \"R:\\\\new projects\\\\video-call\\\\whats-app\\\\frontend\\\\src\\\\components\\\\chat\\\\ChatWindow.tsx\",\n                                        lineNumber: 297,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-sm text-text-secondary/70\",\n                                        children: \"Start the conversation by sending a message\"\n                                    }, void 0, false, {\n                                        fileName: \"R:\\\\new projects\\\\video-call\\\\whats-app\\\\frontend\\\\src\\\\components\\\\chat\\\\ChatWindow.tsx\",\n                                        lineNumber: 298,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"R:\\\\new projects\\\\video-call\\\\whats-app\\\\frontend\\\\src\\\\components\\\\chat\\\\ChatWindow.tsx\",\n                                lineNumber: 296,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"R:\\\\new projects\\\\video-call\\\\whats-app\\\\frontend\\\\src\\\\components\\\\chat\\\\ChatWindow.tsx\",\n                            lineNumber: 295,\n                            columnNumber: 13\n                        }, this) : conversationMessages.map((message, index)=>{\n                            const showDate = index === 0 || new Date(message.createdAt).toDateString() !== new Date(conversationMessages[index - 1].createdAt).toDateString();\n                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                children: [\n                                    showDate && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex justify-center my-4\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"bg-surface px-3 py-1 rounded-lg text-xs text-text-secondary\",\n                                            children: new Date(message.createdAt).toLocaleDateString(\"en-US\", {\n                                                weekday: \"long\",\n                                                month: \"long\",\n                                                day: \"numeric\"\n                                            })\n                                        }, void 0, false, {\n                                            fileName: \"R:\\\\new projects\\\\video-call\\\\whats-app\\\\frontend\\\\src\\\\components\\\\chat\\\\ChatWindow.tsx\",\n                                            lineNumber: 313,\n                                            columnNumber: 23\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"R:\\\\new projects\\\\video-call\\\\whats-app\\\\frontend\\\\src\\\\components\\\\chat\\\\ChatWindow.tsx\",\n                                        lineNumber: 312,\n                                        columnNumber: 21\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_MessageBubble__WEBPACK_IMPORTED_MODULE_6__.MessageBubble, {\n                                        message: message,\n                                        isOwn: typeof message.sender === \"string\" ? message.sender === (user === null || user === void 0 ? void 0 : user._id) : message.sender._id === (user === null || user === void 0 ? void 0 : user._id),\n                                        showSender: activeConversation.type === \"group\",\n                                        onForward: handleForwardMessage\n                                    }, void 0, false, {\n                                        fileName: \"R:\\\\new projects\\\\video-call\\\\whats-app\\\\frontend\\\\src\\\\components\\\\chat\\\\ChatWindow.tsx\",\n                                        lineNumber: 322,\n                                        columnNumber: 19\n                                    }, this)\n                                ]\n                            }, message._id, true, {\n                                fileName: \"R:\\\\new projects\\\\video-call\\\\whats-app\\\\frontend\\\\src\\\\components\\\\chat\\\\ChatWindow.tsx\",\n                                lineNumber: 310,\n                                columnNumber: 17\n                            }, this);\n                        }),\n                        typing.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_TypingIndicator__WEBPACK_IMPORTED_MODULE_8__.TypingIndicator, {\n                            users: typing\n                        }, void 0, false, {\n                            fileName: \"R:\\\\new projects\\\\video-call\\\\whats-app\\\\frontend\\\\src\\\\components\\\\chat\\\\ChatWindow.tsx\",\n                            lineNumber: 338,\n                            columnNumber: 33\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"R:\\\\new projects\\\\video-call\\\\whats-app\\\\frontend\\\\src\\\\components\\\\chat\\\\ChatWindow.tsx\",\n                    lineNumber: 289,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"R:\\\\new projects\\\\video-call\\\\whats-app\\\\frontend\\\\src\\\\components\\\\chat\\\\ChatWindow.tsx\",\n                lineNumber: 285,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_MessageInput__WEBPACK_IMPORTED_MODULE_7__.MessageInput, {\n                conversationId: activeConversation._id\n            }, void 0, false, {\n                fileName: \"R:\\\\new projects\\\\video-call\\\\whats-app\\\\frontend\\\\src\\\\components\\\\chat\\\\ChatWindow.tsx\",\n                lineNumber: 343,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_ForwardMessageModal__WEBPACK_IMPORTED_MODULE_9__.ForwardMessageModal, {\n                isOpen: forwardMessage !== null,\n                onClose: ()=>setForwardMessage(null),\n                message: forwardMessage,\n                currentUserId: (user === null || user === void 0 ? void 0 : user._id) || \"\"\n            }, void 0, false, {\n                fileName: \"R:\\\\new projects\\\\video-call\\\\whats-app\\\\frontend\\\\src\\\\components\\\\chat\\\\ChatWindow.tsx\",\n                lineNumber: 346,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"R:\\\\new projects\\\\video-call\\\\whats-app\\\\frontend\\\\src\\\\components\\\\chat\\\\ChatWindow.tsx\",\n        lineNumber: 202,\n        columnNumber: 5\n    }, this);\n}\n_s(ChatWindow, \"TIkIdI0XevNHFoifgATDvx26Z3k=\", false, function() {\n    return [\n        _store_authStore__WEBPACK_IMPORTED_MODULE_11__.useAuthStore,\n        _store_chatStore__WEBPACK_IMPORTED_MODULE_10__.useChatStore,\n        _store_callStore__WEBPACK_IMPORTED_MODULE_12__.useCallStore,\n        _hooks_use_toast__WEBPACK_IMPORTED_MODULE_15__.useToast\n    ];\n});\n_c = ChatWindow;\nvar _c;\n$RefreshReg$(_c, \"ChatWindow\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL2NoYXQvQ2hhdFdpbmRvdy50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVpRTtBQVUzQztBQUN1RDtBQUM3QjtBQUNTO0FBTWxCO0FBQ1M7QUFDRjtBQUNNO0FBQ1E7QUFDWDtBQUNBO0FBQ0E7QUFDSjtBQUNFO0FBQ0Y7QUFTeEI7QUFPZCxTQUFTcUMsV0FBVyxLQUEyQjtRQUEzQixFQUFFQyxNQUFNLEVBQW1CLEdBQTNCOztJQUN6QixNQUFNLEVBQUVDLElBQUksRUFBRSxHQUFHZiwrREFBWUE7SUFDN0IsTUFBTSxFQUNKZ0Isa0JBQWtCLEVBQ2xCQyxxQkFBcUIsRUFDckJDLFFBQVEsRUFDUkMsYUFBYSxFQUNiQyxpQkFBaUIsRUFDakJDLFdBQVcsRUFDWixHQUFHdEIsK0RBQVlBO0lBQ2hCLE1BQU0sRUFBRXVCLFNBQVMsRUFBRUMsYUFBYSxFQUFFLEdBQUd0QiwrREFBWUE7SUFDakQsTUFBTSxFQUFFdUIsS0FBSyxFQUFFLEdBQUduQiwyREFBUUE7SUFDMUIsTUFBTW9CLFlBQVloRCw2Q0FBTUEsQ0FBaUI7SUFDekMsTUFBTSxDQUFDaUQsVUFBVUMsWUFBWSxHQUFHakQsK0NBQVFBLENBQUM7SUFDekMsTUFBTSxDQUFDa0QsZ0JBQWdCQyxrQkFBa0IsR0FBR25ELCtDQUFRQSxDQUFpQjtJQUVyRSxNQUFNb0QsdUJBQXVCWixTQUFTYSxHQUFHLENBQUNmLENBQUFBLCtCQUFBQSx5Q0FBQUEsbUJBQW9CZ0IsR0FBRyxLQUFJLE9BQU8sRUFBRTtJQUM5RSxNQUFNQyxTQUFTWixZQUFZVSxHQUFHLENBQUNmLENBQUFBLCtCQUFBQSx5Q0FBQUEsbUJBQW9CZ0IsR0FBRyxLQUFJLE9BQU8sRUFBRTtJQUVuRXhELGdEQUFTQSxDQUFDO1FBQ1IsSUFBSXdDLG9CQUFvQjtZQUN0QkcsY0FBY0gsbUJBQW1CZ0IsR0FBRztZQUNwQzlCLHVEQUFhQSxDQUFDZ0Ms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ekJELDJEQUFZQTtRQUNxQkUsMkRBQVlBO1FBQy9CSSx1REFBUUE7OztLQVhaUSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvY29tcG9uZW50cy9jaGF0L0NoYXRXaW5kb3cudHN4P2U4YzIiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xyXG5cclxuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZVN0YXRlLCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0IHsgbW90aW9uIH0gZnJvbSAnZnJhbWVyLW1vdGlvbic7XHJcbmltcG9ydCB7XHJcbiAgQXJyb3dMZWZ0LFxyXG4gIFBob25lLFxyXG4gIFZpZGVvLFxyXG4gIE1vcmVWZXJ0aWNhbCxcclxuICBDaXJjbGUsXHJcbiAgVXNlcnMsXHJcbiAgQmFuLFxyXG59IGZyb20gJ2x1Y2lkZS1yZWFjdCc7XHJcbmltcG9ydCB7IEF2YXRhciwgQXZhdGFyRmFsbGJhY2ssIEF2YXRhckltYWdlIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2F2YXRhcic7XHJcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9idXR0b24nO1xyXG5pbXBvcnQgeyBTY3JvbGxBcmVhIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL3Njcm9sbC1hcmVhJztcclxuaW1wb3J0IHtcclxuICBEcm9wZG93bk1lbnUsXHJcbiAgRHJvcGRvd25NZW51Q29udGVudCxcclxuICBEcm9wZG93bk1lbnVJdGVtLFxyXG4gIERyb3Bkb3duTWVudVRyaWdnZXIsXHJcbn0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2Ryb3Bkb3duLW1lbnUnO1xyXG5pbXBvcnQgeyBNZXNzYWdlQnViYmxlIH0gZnJvbSAnLi9NZXNzYWdlQnViYmxlJztcclxuaW1wb3J0IHsgTWVzc2FnZUlucHV0IH0gZnJvbSAnLi9NZXNzYWdlSW5wdXQnO1xyXG5pbXBvcnQgeyBUeXBpbmdJbmRpY2F0b3IgfSBmcm9tICcuL1R5cGluZ0luZGljYXRvcic7XHJcbmltcG9ydCB7IEZvcndhcmRNZXNzYWdlTW9kYWwgfSBmcm9tICcuL0ZvcndhcmRNZXNzYWdlTW9kYWwnO1xyXG5pbXBvcnQgeyB1c2VDaGF0U3RvcmUgfSBmcm9tICdAL3N0b3JlL2NoYXRTdG9yZSc7XHJcbmltcG9ydCB7IHVzZUF1dGhTdG9yZSB9IGZyb20gJ0Avc3RvcmUvYXV0aFN0b3JlJztcclxuaW1wb3J0IHsgdXNlQ2FsbFN0b3JlIH0gZnJvbSAnQC9zdG9yZS9jYWxsU3RvcmUnO1xyXG5pbXBvcnQgeyBzb2NrZXRTZXJ2aWNlIH0gZnJvbSAnQC9saWIvc29ja2V0JztcclxuaW1wb3J0IHsgY2FsbHNBcGksIHVzZXJzQXBpIH0gZnJvbSAnQC9saWIvYXBpJztcclxuaW1wb3J0IHsgdXNlVG9hc3QgfSBmcm9tICdAL2hvb2tzL3VzZS10b2FzdCc7XHJcbmltcG9ydCB7XHJcbiAgZ2V0Q29udmVyc2F0aW9uTmFtZSxcclxuICBnZXRDb252ZXJzYXRpb25BdmF0YXIsXHJcbiAgaXNVc2VyT25saW5lLFxyXG4gIGdldE90aGVyVXNlcixcclxuICBnZXRJbml0aWFscyxcclxuICBmb3JtYXRMYXN0U2VlbixcclxuICBnZXRNZWRpYVVybCxcclxufSBmcm9tICdAL2xpYi91dGlscyc7XHJcbmltcG9ydCB0eXBlIHsgTWVzc2FnZSB9IGZyb20gJ0AvdHlwZXMnO1xyXG5cclxuaW50ZXJmYWNlIENoYXRXaW5kb3dQcm9wcyB7XHJcbiAgb25CYWNrOiAoKSA9PiB2b2lkO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gQ2hhdFdpbmRvdyh7IG9uQmFjayB9OiBDaGF0V2luZG93UHJvcHMpIHtcclxuICBjb25zdCB7IHVzZXIgfSA9IHVzZUF1dGhTdG9yZSgpO1xyXG4gIGNvbnN0IHtcclxuICAgIGFjdGl2ZUNvbnZlcnNhdGlvbixcclxuICAgIHNldEFjdGl2ZUNvbnZlcnNhdGlvbixcclxuICAgIG1lc3NhZ2VzLFxyXG4gICAgZmV0Y2hNZXNzYWdlcyxcclxuICAgIGlzTG9hZGluZ01lc3NhZ2VzLFxyXG4gICAgdHlwaW5nVXNlcnMsXHJcbiAgfSA9IHVzZUNoYXRTdG9yZSgpO1xyXG4gIGNvbnN0IHsgc3RhcnRDYWxsLCBzZXRBY3RpdmVDYWxsIH0gPSB1c2VDYWxsU3RvcmUoKTtcclxuICBjb25zdCB7IHRvYXN0IH0gPSB1c2VUb2FzdCgpO1xyXG4gIGNvbnN0IHNjcm9sbFJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7XHJcbiAgY29uc3QgW3Nob3dJbmZvLCBzZXRTaG93SW5mb10gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW2ZvcndhcmRNZXNzYWdlLCBzZXRGb3J3YXJkTWVzc2FnZV0gPSB1c2VTdGF0ZTxNZXNzYWdlIHwgbnVsbD4obnVsbCk7XHJcblxyXG4gIGNvbnN0IGNvbnZlcnNhdGlvbk1lc3NhZ2VzID0gbWVzc2FnZXMuZ2V0KGFjdGl2ZUNvbnZlcnNhdGlvbj8uX2lkIHx8ICcnKSB8fCBbXTtcclxuICBjb25zdCB0eXBpbmcgPSB0eXBpbmdVc2Vycy5nZXQoYWN0aXZlQ29udmVyc2F0aW9uPy5faWQgfHwgJycpIHx8IFtdO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgaWYgKGFjdGl2ZUNvbnZlcnNhdGlvbikge1xyXG4gICAgICBmZXRjaE1lc3NhZ2VzKGFjdGl2ZUNvbnZlcnNhdGlvbi5faWQpO1xyXG4gICAgICBzb2NrZXRTZXJ2aWNlLmpvaW5Db252ZXJzYXRpb24oYWN0aXZlQ29udmVyc2F0aW9uLl9pZCk7XHJcbiAgICAgIHNvY2tldFNlcnZpY2UubWFya01lc3NhZ2VzUmVhZChhY3RpdmVDb252ZXJzYXRpb24uX2lkKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gKCkgPT4ge1xyXG4gICAgICBpZiAoYWN0aXZlQ29udmVyc2F0aW9uKSB7XHJcbiAgICAgICAgc29ja2V0U2VydmljZS5sZWF2ZUNvbnZlcnNhdGlvbihhY3RpdmVDb252ZXJzYXRpb24uX2lkKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9LCBbYWN0aXZlQ29udmVyc2F0aW9uPy5faWRdKTtcclxuXHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIC8vIFNjcm9sbCB0byBib3R0b20gd2hlbiBuZXcgbWVzc2FnZXMgYXJyaXZlXHJcbiAgICBpZiAoc2Nyb2xsUmVmLmN1cnJlbnQpIHtcclxuICAgICAgc2Nyb2xsUmVmLmN1cnJlbnQuc2Nyb2xsVG9wID0gc2Nyb2xsUmVmLmN1cnJlbnQuc2Nyb2xsSGVpZ2h0O1xyXG4gICAgfVxyXG4gIH0sIFtjb252ZXJzYXRpb25NZXNzYWdlcy5sZW5ndGhdKTtcclxuXHJcbiAgY29uc3QgaGFuZGxlSW5pdGlhdGVDYWxsID0gYXN5bmMgKHR5cGU6ICdhdWRpbycgfCAndmlkZW8nKSA9PiB7XHJcbiAgICBpZiAoIWFjdGl2ZUNvbnZlcnNhdGlvbikgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IG90aGVyVXNlciA9IGdldE90aGVyVXNlcihhY3RpdmVDb252ZXJzYXRpb24sIHVzZXI/Ll9pZCB8fCAnJyk7XHJcbiAgICBpZiAoIW90aGVyVXNlcikgcmV0dXJuO1xyXG5cclxuICAgIC8vIENoZWNrIGlmIFdlYlJUQyBpcyBhdmFpbGFibGUgKHJlcXVpcmVzIEhUVFBTIG9yIGxvY2FsaG9zdClcclxuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICBjb25zdCBpc1NlY3VyZUNvbnRleHQgPSB3aW5kb3cuaXNTZWN1cmVDb250ZXh0O1xyXG4gICAgICBjb25zdCBpc0xvY2FsaG9zdCA9IHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSA9PT0gJ2xvY2FsaG9zdCcgfHwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lID09PSAnMTI3LjAuMC4xJztcclxuICAgICAgXHJcbiAgICAgIGlmICghaXNTZWN1cmVDb250ZXh0ICYmICFpc0xvY2FsaG9zdCkge1xyXG4gICAgICAgIHRvYXN0KHtcclxuICAgICAgICAgIHRpdGxlOiAnU2VjdXJlIENvbm5lY3Rpb24gUmVxdWlyZWQnLFxyXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdWaWRlby9hdWRpbyBjYWxscyByZXF1aXJlIEhUVFBTLiBQbGVhc2UgYWNjZXNzIHRoZSBhcHAgdmlhIGxvY2FsaG9zdDozMDA0JyxcclxuICAgICAgICAgIHZhcmlhbnQ6ICdkZXN0cnVjdGl2ZScsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoIW5hdmlnYXRvci5tZWRpYURldmljZXMgfHwgIW5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKSB7XHJcbiAgICAgICAgdG9hc3Qoe1xyXG4gICAgICAgICAgdGl0bGU6ICdOb3QgU3VwcG9ydGVkJyxcclxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnWW91ciBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgdmlkZW8vYXVkaW8gY2FsbHMuIFBsZWFzZSB1c2UgQ2hyb21lLCBGaXJlZm94LCBvciBFZGdlLicsXHJcbiAgICAgICAgICB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIEZpcnN0LCBjcmVhdGUgdGhlIGNhbGwgdmlhIEFQSVxyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGNhbGxzQXBpLmluaXRpYXRlQ2FsbChcclxuICAgICAgICBvdGhlclVzZXIuX2lkLFxyXG4gICAgICAgIHR5cGUsXHJcbiAgICAgICAgYWN0aXZlQ29udmVyc2F0aW9uLnR5cGUgPT09ICdncm91cCcsXHJcbiAgICAgICAgYWN0aXZlQ29udmVyc2F0aW9uLl9pZFxyXG4gICAgICApO1xyXG4gICAgICBcclxuICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MgJiYgcmVzcG9uc2UuZGF0YSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5OeIENhbGwgaW5pdGlhdGVkOicsIHJlc3BvbnNlLmRhdGEuX2lkKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBTZXQgYWN0aXZlIGNhbGwgZGF0YVxyXG4gICAgICAgIHNldEFjdGl2ZUNhbGwocmVzcG9uc2UuZGF0YSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gU3RhcnQgdGhlIGNhbGwgVUkgKHRoaXMgd2lsbCB0cmlnZ2VyIFdlYlJUQyBpbml0aWFsaXphdGlvbilcclxuICAgICAgICBzdGFydENhbGwodHlwZSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdG9hc3Qoe1xyXG4gICAgICAgICAgdGl0bGU6ICdDYWxsIEZhaWxlZCcsXHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ0NvdWxkIG5vdCBpbml0aWF0ZSB0aGUgY2FsbCcsXHJcbiAgICAgICAgICB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbml0aWF0aW5nIGNhbGw6JywgZXJyb3IpO1xyXG4gICAgICB0b2FzdCh7XHJcbiAgICAgICAgdGl0bGU6ICdDYWxsIEZhaWxlZCcsXHJcbiAgICAgICAgZGVzY3JpcHRpb246ICdBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSBzdGFydGluZyB0aGUgY2FsbCcsXHJcbiAgICAgICAgdmFyaWFudDogJ2Rlc3RydWN0aXZlJyxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgaGFuZGxlQmxvY2tVc2VyID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgaWYgKCFhY3RpdmVDb252ZXJzYXRpb24gfHwgYWN0aXZlQ29udmVyc2F0aW9uLnR5cGUgPT09ICdncm91cCcpIHJldHVybjtcclxuXHJcbiAgICBjb25zdCBvdGhlclVzZXIgPSBnZXRPdGhlclVzZXIoYWN0aXZlQ29udmVyc2F0aW9uLCB1c2VyPy5faWQgfHwgJycpO1xyXG4gICAgaWYgKCFvdGhlclVzZXIpIHJldHVybjtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHVzZXJzQXBpLmJsb2NrVXNlcihvdGhlclVzZXIuX2lkKTtcclxuICAgICAgaWYgKHJlc3BvbnNlLnN1Y2Nlc3MpIHtcclxuICAgICAgICB0b2FzdCh7XHJcbiAgICAgICAgICB0aXRsZTogJ1VzZXIgQmxvY2tlZCcsXHJcbiAgICAgICAgICBkZXNjcmlwdGlvbjogYCR7b3RoZXJVc2VyLm5hbWV9IGhhcyBiZWVuIGJsb2NrZWQgc3VjY2Vzc2Z1bGx5LmAsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgICAgdG9hc3Qoe1xyXG4gICAgICAgIHRpdGxlOiAnRXJyb3InLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiBlcnJvci5yZXNwb25zZT8uZGF0YT8ubWVzc2FnZSB8fCAnRmFpbGVkIHRvIGJsb2NrIHVzZXInLFxyXG4gICAgICAgIHZhcmlhbnQ6ICdkZXN0cnVjdGl2ZScsXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZUZvcndhcmRNZXNzYWdlID0gKG1lc3NhZ2U6IE1lc3NhZ2UpID0+IHtcclxuICAgIHNldEZvcndhcmRNZXNzYWdlKG1lc3NhZ2UpO1xyXG4gIH07XHJcblxyXG4gIGlmICghYWN0aXZlQ29udmVyc2F0aW9uKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgY29uc3QgbmFtZSA9IGdldENvbnZlcnNhdGlvbk5hbWUoYWN0aXZlQ29udmVyc2F0aW9uLCB1c2VyPy5faWQgfHwgJycpO1xyXG4gIGNvbnN0IGF2YXRhciA9IGdldENvbnZlcnNhdGlvbkF2YXRhcihhY3RpdmVDb252ZXJzYXRpb24sIHVzZXI/Ll9pZCB8fCAnJyk7XHJcbiAgY29uc3Qgb25saW5lID0gaXNVc2VyT25saW5lKGFjdGl2ZUNvbnZlcnNhdGlvbiwgdXNlcj8uX2lkIHx8ICcnKTtcclxuICBjb25zdCBvdGhlclVzZXIgPSBnZXRPdGhlclVzZXIoYWN0aXZlQ29udmVyc2F0aW9uLCB1c2VyPy5faWQgfHwgJycpO1xyXG5cclxuICBjb25zdCBnZXRTdGF0dXNUZXh0ID0gKCkgPT4ge1xyXG4gICAgaWYgKHR5cGluZy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIHJldHVybiB0eXBpbmcubGVuZ3RoID09PSAxID8gJ3R5cGluZy4uLicgOiBgJHt0eXBpbmcubGVuZ3RofSB0eXBpbmcuLi5gO1xyXG4gICAgfVxyXG4gICAgaWYgKGFjdGl2ZUNvbnZlcnNhdGlvbi50eXBlID09PSAnZ3JvdXAnKSB7XHJcbiAgICAgIHJldHVybiBgJHthY3RpdmVDb252ZXJzYXRpb24ucGFydGljaXBhbnRzLmxlbmd0aH0gcGFydGljaXBhbnRzYDtcclxuICAgIH1cclxuICAgIGlmIChvbmxpbmUpIHJldHVybiAnb25saW5lJztcclxuICAgIGlmIChvdGhlclVzZXI/Lmxhc3RTZWVuKSB7XHJcbiAgICAgIHJldHVybiBgbGFzdCBzZWVuICR7Zm9ybWF0TGFzdFNlZW4ob3RoZXJVc2VyLmxhc3RTZWVuKX1gO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuICcnO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgaC1zY3JlZW4gdy1mdWxsXCI+XHJcbiAgICAgIHsvKiBIZWFkZXIgKi99XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaC0xNiBweC00IGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBib3JkZXItYiBib3JkZXItYm9yZGVyIGJnLXN1cmZhY2VcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0zXCI+XHJcbiAgICAgICAgICA8QnV0dG9uXHJcbiAgICAgICAgICAgIHZhcmlhbnQ9XCJnaG9zdFwiXHJcbiAgICAgICAgICAgIHNpemU9XCJpY29uXCJcclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwibWQ6aGlkZGVuXCJcclxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xyXG4gICAgICAgICAgICAgIHNldEFjdGl2ZUNvbnZlcnNhdGlvbihudWxsKTtcclxuICAgICAgICAgICAgICBvbkJhY2soKTtcclxuICAgICAgICAgICAgfX1cclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgPEFycm93TGVmdCBjbGFzc05hbWU9XCJoLTUgdy01XCIgLz5cclxuICAgICAgICAgIDwvQnV0dG9uPlxyXG5cclxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgY3Vyc29yLXBvaW50ZXJcIiBvbkNsaWNrPXsoKSA9PiBzZXRTaG93SW5mbyh0cnVlKX0+XHJcbiAgICAgICAgICAgIDxBdmF0YXIgY2xhc3NOYW1lPVwiaC0xMCB3LTEwXCI+XHJcbiAgICAgICAgICAgICAgPEF2YXRhckltYWdlIHNyYz17Z2V0TWVkaWFVcmwoYXZhdGFyKX0gLz5cclxuICAgICAgICAgICAgICA8QXZhdGFyRmFsbGJhY2sgY2xhc3NOYW1lPVwiYmctcHJpbWFyeS8yMCB0ZXh0LXByaW1hcnlcIj5cclxuICAgICAgICAgICAgICAgIHthY3RpdmVDb252ZXJzYXRpb24udHlwZSA9PT0gJ2dyb3VwJyA/IChcclxuICAgICAgICAgICAgICAgICAgPFVzZXJzIGNsYXNzTmFtZT1cImgtNSB3LTVcIiAvPlxyXG4gICAgICAgICAgICAgICAgKSA6IChcclxuICAgICAgICAgICAgICAgICAgZ2V0SW5pdGlhbHMobmFtZSlcclxuICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgPC9BdmF0YXJGYWxsYmFjaz5cclxuICAgICAgICAgICAgPC9BdmF0YXI+XHJcbiAgICAgICAgICAgIHtvbmxpbmUgJiYgKFxyXG4gICAgICAgICAgICAgIDxDaXJjbGUgY2xhc3NOYW1lPVwiYWJzb2x1dGUgYm90dG9tLTAgcmlnaHQtMCBoLTMgdy0zIGZpbGwtc3VjY2VzcyB0ZXh0LXN1Y2Nlc3NcIiAvPlxyXG4gICAgICAgICAgICApfVxyXG4gICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjdXJzb3ItcG9pbnRlclwiIG9uQ2xpY2s9eygpID0+IHNldFNob3dJbmZvKHRydWUpfT5cclxuICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgdGV4dC10ZXh0LXByaW1hcnlcIj57bmFtZX08L2gyPlxyXG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9e2B0ZXh0LXhzICR7dHlwaW5nLmxlbmd0aCA+IDAgPyAndGV4dC1wcmltYXJ5JyA6ICd0ZXh0LXRleHQtc2Vjb25kYXJ5J31gfT5cclxuICAgICAgICAgICAgICB7Z2V0U3RhdHVzVGV4dCgpfVxyXG4gICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMVwiPlxyXG4gICAgICAgICAgPEJ1dHRvblxyXG4gICAgICAgICAgICB2YXJpYW50PVwiZ2hvc3RcIlxyXG4gICAgICAgICAgICBzaXplPVwiaWNvblwiXHJcbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZUluaXRpYXRlQ2FsbCgndmlkZW8nKX1cclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC10ZXh0LXNlY29uZGFyeSBob3Zlcjp0ZXh0LXRleHQtcHJpbWFyeVwiXHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIDxWaWRlbyBjbGFzc05hbWU9XCJoLTUgdy01XCIgLz5cclxuICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgPEJ1dHRvblxyXG4gICAgICAgICAgICB2YXJpYW50PVwiZ2hvc3RcIlxyXG4gICAgICAgICAgICBzaXplPVwiaWNvblwiXHJcbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZUluaXRpYXRlQ2FsbCgnYXVkaW8nKX1cclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC10ZXh0LXNlY29uZGFyeSBob3Zlcjp0ZXh0LXRleHQtcHJpbWFyeVwiXHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIDxQaG9uZSBjbGFzc05hbWU9XCJoLTUgdy01XCIgLz5cclxuICAgICAgICAgIDwvQnV0dG9uPlxyXG4gICAgICAgICAgPERyb3Bkb3duTWVudT5cclxuICAgICAgICAgICAgPERyb3Bkb3duTWVudVRyaWdnZXIgYXNDaGlsZD5cclxuICAgICAgICAgICAgICA8QnV0dG9uXHJcbiAgICAgICAgICAgICAgICB2YXJpYW50PVwiZ2hvc3RcIlxyXG4gICAgICAgICAgICAgICAgc2l6ZT1cImljb25cIlxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC10ZXh0LXNlY29uZGFyeSBob3Zlcjp0ZXh0LXRleHQtcHJpbWFyeVwiXHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPE1vcmVWZXJ0aWNhbCBjbGFzc05hbWU9XCJoLTUgdy01XCIgLz5cclxuICAgICAgICAgICAgICA8L0J1dHRvbj5cclxuICAgICAgICAgICAgPC9Ecm9wZG93bk1lbnVUcmlnZ2VyPlxyXG4gICAgICAgICAgICA8RHJvcGRvd25NZW51Q29udGVudCBhbGlnbj1cImVuZFwiIGNsYXNzTmFtZT1cInctNDhcIj5cclxuICAgICAgICAgICAgICB7YWN0aXZlQ29udmVyc2F0aW9uLnR5cGUgIT09ICdncm91cCcgJiYgKFxyXG4gICAgICAgICAgICAgICAgPERyb3Bkb3duTWVudUl0ZW1cclxuICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlQmxvY2tVc2VyfVxyXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LWRhbmdlciBmb2N1czp0ZXh0LWRhbmdlciBjdXJzb3ItcG9pbnRlclwiXHJcbiAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgICAgIDxCYW4gY2xhc3NOYW1lPVwiaC00IHctNCBtci0yXCIgLz5cclxuICAgICAgICAgICAgICAgICAgQmxvY2sgVXNlclxyXG4gICAgICAgICAgICAgICAgPC9Ecm9wZG93bk1lbnVJdGVtPlxyXG4gICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgIDwvRHJvcGRvd25NZW51Q29udGVudD5cclxuICAgICAgICAgIDwvRHJvcGRvd25NZW51PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuXHJcbiAgICAgIHsvKiBNZXNzYWdlcyBBcmVhICovfVxyXG4gICAgICA8U2Nyb2xsQXJlYVxyXG4gICAgICAgIHJlZj17c2Nyb2xsUmVmfVxyXG4gICAgICAgIGNsYXNzTmFtZT1cImZsZXgtMSBiZy1iYWNrZ3JvdW5kLWNoYXQgY2hhdC1iZy1wYXR0ZXJuXCJcclxuICAgICAgPlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC00IHNwYWNlLXktMSBtaW4taC1mdWxsIGZsZXggZmxleC1jb2wganVzdGlmeS1lbmRcIj5cclxuICAgICAgICAgIHtpc0xvYWRpbmdNZXNzYWdlcyAmJiBjb252ZXJzYXRpb25NZXNzYWdlcy5sZW5ndGggPT09IDAgPyAoXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcHktOFwiPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC10ZXh0LXNlY29uZGFyeVwiPkxvYWRpbmcgbWVzc2FnZXMuLi48L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICApIDogY29udmVyc2F0aW9uTWVzc2FnZXMubGVuZ3RoID09PSAwID8gKFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHB5LThcIj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXRleHQtc2Vjb25kYXJ5XCI+Tm8gbWVzc2FnZXMgeWV0PC9wPlxyXG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LXRleHQtc2Vjb25kYXJ5LzcwXCI+XHJcbiAgICAgICAgICAgICAgICAgIFN0YXJ0IHRoZSBjb252ZXJzYXRpb24gYnkgc2VuZGluZyBhIG1lc3NhZ2VcclxuICAgICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICApIDogKFxyXG4gICAgICAgICAgICBjb252ZXJzYXRpb25NZXNzYWdlcy5tYXAoKG1lc3NhZ2UsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgICAgY29uc3Qgc2hvd0RhdGUgPSBpbmRleCA9PT0gMCB8fFxyXG4gICAgICAgICAgICAgICAgbmV3IERhdGUobWVzc2FnZS5jcmVhdGVkQXQpLnRvRGF0ZVN0cmluZygpICE9PVxyXG4gICAgICAgICAgICAgICAgbmV3IERhdGUoY29udmVyc2F0aW9uTWVzc2FnZXNbaW5kZXggLSAxXS5jcmVhdGVkQXQpLnRvRGF0ZVN0cmluZygpO1xyXG5cclxuICAgICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgICAgPGRpdiBrZXk9e21lc3NhZ2UuX2lkfT5cclxuICAgICAgICAgICAgICAgICAge3Nob3dEYXRlICYmIChcclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1jZW50ZXIgbXktNFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYmctc3VyZmFjZSBweC0zIHB5LTEgcm91bmRlZC1sZyB0ZXh0LXhzIHRleHQtdGV4dC1zZWNvbmRhcnlcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAge25ldyBEYXRlKG1lc3NhZ2UuY3JlYXRlZEF0KS50b0xvY2FsZURhdGVTdHJpbmcoJ2VuLVVTJywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHdlZWtkYXk6ICdsb25nJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBtb250aDogJ2xvbmcnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRheTogJ251bWVyaWMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KX1cclxuICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgICAgICAgPE1lc3NhZ2VCdWJibGVcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlPXttZXNzYWdlfVxyXG4gICAgICAgICAgICAgICAgICAgIGlzT3duPXtcclxuICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiBtZXNzYWdlLnNlbmRlciA9PT0gJ3N0cmluZydcclxuICAgICAgICAgICAgICAgICAgICAgICAgPyBtZXNzYWdlLnNlbmRlciA9PT0gdXNlcj8uX2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogbWVzc2FnZS5zZW5kZXIuX2lkID09PSB1c2VyPy5faWRcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgc2hvd1NlbmRlcj17YWN0aXZlQ29udmVyc2F0aW9uLnR5cGUgPT09ICdncm91cCd9XHJcbiAgICAgICAgICAgICAgICAgICAgb25Gb3J3YXJkPXtoYW5kbGVGb3J3YXJkTWVzc2FnZX1cclxuICAgICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICApfVxyXG5cclxuICAgICAgICAgIHsvKiBUeXBpbmcgSW5kaWNhdG9yICovfVxyXG4gICAgICAgICAge3R5cGluZy5sZW5ndGggPiAwICYmIDxUeXBpbmdJbmRpY2F0b3IgdXNlcnM9e3R5cGluZ30gLz59XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvU2Nyb2xsQXJlYT5cclxuXHJcbiAgICAgIHsvKiBNZXNzYWdlIElucHV0ICovfVxyXG4gICAgICA8TWVzc2FnZUlucHV0IGNvbnZlcnNhdGlvbklkPXthY3RpdmVDb252ZXJzYXRpb24uX2lkfSAvPlxyXG5cclxuICAgICAgey8qIEZvcndhcmQgTWVzc2FnZSBNb2RhbCAqL31cclxuICAgICAgPEZvcndhcmRNZXNzYWdlTW9kYWxcclxuICAgICAgICBpc09wZW49e2ZvcndhcmRNZXNzYWdlICE9PSBudWxsfVxyXG4gICAgICAgIG9uQ2xvc2U9eygpID0+IHNldEZvcndhcmRNZXNzYWdlKG51bGwpfVxyXG4gICAgICAgIG1lc3NhZ2U9e2ZvcndhcmRNZXNzYWdlfVxyXG4gICAgICAgIGN1cnJlbnRVc2VySWQ9e3VzZXI/Ll9pZCB8fCAnJ31cclxuICAgICAgLz5cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn1cclxuIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZVJlZiIsInVzZVN0YXRlIiwiQXJyb3dMZWZ0IiwiUGhvbmUiLCJWaWRlbyIsIk1vcmVWZXJ0aWNhbCIsIkNpcmNsZSIsIlVzZXJzIiwiQmFuIiwiQXZhdGFyIiwiQXZhdGFyRmFsbGJhY2siLCJBdmF0YXJJbWFnZSIsIkJ1dHRvbiIsIlNjcm9sbEFyZWEiLCJEcm9wZG93bk1lbnUiLCJEcm9wZG93bk1lbnVDb250ZW50IiwiRHJvcGRvd25NZW51SXRlbSIsIkRyb3Bkb3duTWVudVRyaWdnZXIiLCJNZXNzYWdlQnViYmxlIiwiTWVzc2FnZUlucHV0IiwiVHlwaW5nSW5kaWNhdG9yIiwiRm9yd2FyZE1lc3NhZ2VNb2RhbCIsInVzZUNoYXRTdG9yZSIsInVzZUF1dGhTdG9yZSIsInVzZUNhbGxTdG9yZSIsInNvY2tldFNlcnZpY2UiLCJjYWxsc0FwaSIsInVzZXJzQXBpIiwidXNlVG9hc3QiLCJnZXRDb252ZXJzYXRpb25OYW1lIiwiZ2V0Q29udmVyc2F0aW9uQXZhdGFyIiwiaXNVc2VyT25saW5lIiwiZ2V0T3RoZXJVc2VyIiwiZ2V0SW5pdGlhbHMiLCJmb3JtYXRMYXN0U2VlbiIsImdldE1lZGlhVXJsIiwiQ2hhdFdpbmRvdyIsIm9uQmFjayIsInVzZXIiLCJhY3RpdmVDb252ZXJzYXRpb24iLCJzZXRBY3RpdmVDb252ZXJzYXRpb24iLCJtZXNzYWdlcyIsImZldGNoTWVzc2FnZXMiLCJpc0xvYWRpbmdNZXNzYWdlcyIsInR5cGluZ1VzZXJzIiwic3RhcnRDYWxsIiwic2V0QWN0aXZlQ2FsbCIsInRvYXN0Iiwic2Nyb2xsUmVmIiwic2hvd0luZm8iLCJzZXRTaG93SW5mbyIsImZvcndhcmRNZXNzYWdlIiwic2V0Rm9yd2FyZE1lc3NhZ2UiLCJjb252ZXJzYXRpb25NZXNzYWdlcyIsImdldCIsIl9pZCIsInR5cGluZyIsImpvaW5Db252ZXJzYXRpb24iLCJtYXJrTWVzc2FnZXNSZWFkIiwibGVhdmVDb252ZXJzYXRpb24iLCJjdXJyZW50Iiwic2Nyb2xsVG9wIiwic2Nyb2xsSGVpZ2h0IiwibGVuZ3RoIiwiaGFuZGxlSW5pdGlhdGVDYWxsIiwidHlwZSIsIm90aGVyVXNlciIsImlzU2VjdXJlQ29udGV4dCIsIndpbmRvdyIsImlzTG9jYWxob3N0IiwibG9jYXRpb24iLCJob3N0bmFtZSIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJ2YXJpYW50IiwibmF2aWdhdG9yIiwibWVkaWFEZXZpY2VzIiwiZ2V0VXNlck1lZGlhIiwicmVzcG9uc2UiLCJpbml0aWF0ZUNhbGwiLCJzdWNjZXNzIiwiZGF0YSIsImNvbnNvbGUiLCJsb2ciLCJlcnJvciIsImhhbmRsZUJsb2NrVXNlciIsImJsb2NrVXNlciIsIm5hbWUiLCJtZXNzYWdlIiwiaGFuZGxlRm9yd2FyZE1lc3NhZ2UiLCJhdmF0YXIiLCJvbmxpbmUiLCJnZXRTdGF0dXNUZXh0IiwicGFydGljaXBhbnRzIiwibGFzdFNlZW4iLCJkaXYiLCJjbGFzc05hbWUiLCJzaXplIiwib25DbGljayIsInNyYyIsImgyIiwicCIsImFzQ2hpbGQiLCJhbGlnbiIsInJlZiIsIm1hcCIsImluZGV4Iiwic2hvd0RhdGUiLCJEYXRlIiwiY3JlYXRlZEF0IiwidG9EYXRlU3RyaW5nIiwic3BhbiIsInRvTG9jYWxlRGF0ZVN0cmluZyIsIndlZWtkYXkiLCJtb250aCIsImRheSIsImlzT3duIiwic2VuZGVyIiwic2hvd1NlbmRlciIsIm9uRm9yd2FyZCIsInVzZXJzIiwiY29udmVyc2F0aW9uSWQiLCJpc09wZW4iLCJvbkNsb3NlIiwiY3VycmVudFVzZXJJZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/chat/ChatWindow.tsx\n"));

/***/ })

});